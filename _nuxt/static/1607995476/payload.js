__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC){return {data:[{articles:[{slug:"20201215",title:"IEではinnerHTMLで削除したDOMを再利用できない",timestamp:"2020\u002F12\u002F15",tags:[ax],toc:[],body:{type:W,children:[{type:b,tag:j,props:{},children:[{type:a,value:"表題の通り、短めのお話。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\nあるコンテンツ内のデータをいったん削除して配置し直すとき、"},{type:b,tag:g,props:{},children:[{type:a,value:"innerHTML = ''"}]},{type:a,value:"によって削除されたDOMをIEでは再取得できない。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n\nwrap"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"innerHTML"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"''"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aB,i]},children:[{type:a,value:aC}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aZ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:a_}]},{type:a,value:"を用いることでIEでもDOMを再利用することができる。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aB,i]},children:[{type:a,value:aC}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n  item"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"parentNode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aB,i]},children:[{type:a,value:aC}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aZ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]}]},text:"\n表題の通り、短めのお話。  \nあるコンテンツ内のデータをいったん削除して配置し直すとき、`innerHTML = ''`によって削除されたDOMをIEでは再取得できない。\n\n```javascript\nconst wrap = document.querySelector('.wrap');\nconst items = wrap.querySelectorAll('.item');\n\nwrap.innerHTML = '';\n\nitems.forEach((item) =\u003E {\n  wrap.appendChild(item); \u002F\u002F Error\n});\n```\n\n`removeChild`を用いることでIEでもDOMを再利用することができる。\n\n```javascript\nconst wrap = document.querySelector('.wrap');\nconst items = wrap.querySelectorAll('.item');\n\nitems.forEach((item) =\u003E {\n  item.parentNode.removeChild(item);\n});\n\nitems.forEach((item) =\u003E {\n  wrap.appendChild(item); \u002F\u002F Error\n});\n```\n",dir:X,path:"\u002Farticle\u002F20201215",extension:Y,createdAt:aD,updatedAt:aD},{slug:"20201126",title:"\u003Cbutton\u003Eってなんなんだ？",timestamp:"2020\u002F11\u002F26",tags:["HTML",ax],toc:[],body:{type:W,children:[{type:b,tag:j,props:{},children:[{type:a,value:"業務でコードレビューをしていたところ、以下のようなソースに出会った。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[a$,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"JavaScriptを用いて、押下することで詳細な説明や注意事項を表示したモーダルが表示される機能が実装されている様子。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n何気なしに「submitボタンでないのであれば、"},{type:b,tag:g,props:{},children:[{type:a,value:aI}]},{type:a,value:"を追加してください」とレビューしたところ、「submitボタンってなんですか？」とのお返事。学習も兼ねて色々と調べ直すことにした。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:"要素には"},{type:b,tag:g,props:{},children:[{type:a,value:"type"}]},{type:a,value:"という属性値が存在し、初期値は"},{type:b,tag:g,props:{},children:[{type:a,value:ba}]},{type:a,value:bb},{type:b,tag:v,props:{},children:[]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"type=\"submit\""}]},{type:a,value:"を持つ"},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:"要素は、親として"},{type:b,tag:g,props:{},children:[{type:a,value:ad}]},{type:a,value:"要素を持つ場合、その中に含まれる"},{type:b,tag:g,props:{},children:[{type:a,value:"\u003Cinput\u003E"}]},{type:a,value:"情報を送信することができる。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"その他、選択できる値は以下の通り。"}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:"table",props:{},children:[{type:b,tag:"thead",props:{},children:[{type:b,tag:ae,props:{},children:[{type:b,tag:aJ,props:{align:B},children:[{type:a,value:"キーワード"}]},{type:b,tag:aJ,props:{align:B},children:[{type:a,value:"状態"}]},{type:b,tag:aJ,props:{align:B},children:[{type:a,value:"概要"}]}]}]},{type:b,tag:"tbody",props:{},children:[{type:b,tag:ae,props:{},children:[{type:b,tag:J,props:{align:B},children:[{type:a,value:ba}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:"Submit Button"}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:"フォームを送信する。"}]}]},{type:b,tag:ae,props:{},children:[{type:b,tag:J,props:{align:B},children:[{type:a,value:"reset"}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:"Reset Button"}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:"フォームをリセットする。"}]}]},{type:b,tag:ae,props:{},children:[{type:b,tag:J,props:{align:B},children:[{type:a,value:aF}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:"Button"}]},{type:b,tag:J,props:{align:B},children:[{type:a,value:bc}]}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"参考："},{type:b,tag:u,props:{href:"https:\u002F\u002Fmomdo.github.io\u002Fhtml\u002Fform-elements.html#the-button-element",rel:[F,G,H],target:I},children:[{type:a,value:"HTML Standard"}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"そもそも"},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:"要素で生成されるボタンは、"},{type:b,tag:g,props:{},children:[{type:a,value:ad}]},{type:a,value:"要素を操作するためのボタンということになる。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\nコードレビューでいただいた、「submitボタンとは？」という質問に回答するのであれば、「フォームを送信（submit）するためのボタン」がsubmitボタンだということになる。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"では、"},{type:b,tag:g,props:{},children:[{type:a,value:ad}]},{type:a,value:"要素を親として持たない"},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:"要素はどのような振る舞いをするか。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"注目すべきは"},{type:b,tag:g,props:{},children:[{type:a,value:aI}]},{type:a,value:bb},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n概要は、"}]},{type:a,value:f},{type:b,tag:bd,props:{},children:[{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:bc}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"文字通り、"},{type:b,tag:g,props:{},children:[{type:a,value:aI}]},{type:a,value:"を付与された"},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:"要素は何もしない。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n仮に親として"},{type:b,tag:g,props:{},children:[{type:a,value:ad}]},{type:a,value:"要素を持っていたとしても、データの更新や遷移を行わない。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n要するに、古いソースコードに散見される"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[a$,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:y}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,be]},children:[{type:a,value:"onClick"}]},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,e,bg]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:"..."},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,be]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,e,bg]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:"javascript:void(0)"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"と同じ振る舞いをするわけだ。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:bh}]},{type:a,value:"要素や"},{type:b,tag:g,props:{},children:[{type:a,value:bi}]},{type:a,value:"要素を用いたレガシーコードが良くないとされる理由は、主に以下である。"}]},{type:a,value:f},{type:b,tag:bj,props:{},children:[{type:a,value:f},{type:b,tag:ag,props:{},children:[{type:a,value:"ページ遷移を伴わない"},{type:b,tag:g,props:{},children:[{type:a,value:bi}]},{type:a,value:"要素は、そもそも「リンク」としての意味合いを持たない"}]},{type:a,value:f},{type:b,tag:ag,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:bh}]},{type:a,value:"要素にはデフォルトだとフォーカスがないため、タブフォーカスでページを巡回した際、ボタンをスキップしてしまう"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"HTML5を正しく活用するためにも、リンクでなく、押下し、かつフォームパーツでないボタンには、"},{type:b,tag:g,props:{},children:[{type:a,value:"\u003Cbutton type=\"button\"\u003E"}]},{type:a,value:"を使うべきだと言えるだろう。"}]}]},text:"\n業務でコードレビューをしていたところ、以下のようなソースに出会った。\n\n```html\n\u003Cbutton\u003E詳しく見る\u003C\u002Fbutton\u003E\n```\n\nJavaScriptを用いて、押下することで詳細な説明や注意事項を表示したモーダルが表示される機能が実装されている様子。  \n何気なしに「submitボタンでないのであれば、`type=\"button\"`を追加してください」とレビューしたところ、「submitボタンってなんですか？」とのお返事。学習も兼ねて色々と調べ直すことにした。\n\n`\u003Cbutton\u003E`要素には`type`という属性値が存在し、初期値は`submit`。  \n`type=\"submit\"`を持つ`\u003Cbutton\u003E`要素は、親として`\u003Cform\u003E`要素を持つ場合、その中に含まれる`\u003Cinput\u003E`情報を送信することができる。\n\nその他、選択できる値は以下の通り。\n\n| キーワード | 状態 |\t概要 |\n| :- | :- | :- |\n| submit | Submit Button | フォームを送信する。 |\n| reset | Reset Button | フォームをリセットする。 |\n| button | Button | 何もしない。 |\n\n参考：[HTML Standard](https:\u002F\u002Fmomdo.github.io\u002Fhtml\u002Fform-elements.html#the-button-element)\n\nそもそも`\u003Cbutton\u003E`要素で生成されるボタンは、`\u003Cform\u003E`要素を操作するためのボタンということになる。  \nコードレビューでいただいた、「submitボタンとは？」という質問に回答するのであれば、「フォームを送信（submit）するためのボタン」がsubmitボタンだということになる。\n\nでは、`\u003Cform\u003E`要素を親として持たない`\u003Cbutton\u003E`要素はどのような振る舞いをするか。\n\n注目すべきは`type=\"button\"`。  \n概要は、\n\n\u003E何もしない。\n\n文字通り、`type=\"button\"`を付与された`\u003Cbutton\u003E`要素は何もしない。  \n仮に親として`\u003Cform\u003E`要素を持っていたとしても、データの更新や遷移を行わない。  \n要するに、古いソースコードに散見される\n\n```html\n\u003Cdiv onClick=\"...\"\u003E詳しく見る\u003C\u002Fdiv\u003E\n\u003Ca href=\"javascript:void(0)\"\u003E詳しく見る\u003C\u002Fa\u003E\n```\n\nと同じ振る舞いをするわけだ。\n\n`\u003Cdiv\u003E`要素や`\u003Ca\u003E`要素を用いたレガシーコードが良くないとされる理由は、主に以下である。\n\n- ページ遷移を伴わない`\u003Ca\u003E`要素は、そもそも「リンク」としての意味合いを持たない\n- `\u003Cdiv\u003E`要素にはデフォルトだとフォーカスがないため、タブフォーカスでページを巡回した際、ボタンをスキップしてしまう\n\nHTML5を正しく活用するためにも、リンクでなく、押下し、かつフォームパーツでないボタンには、`\u003Cbutton type=\"button\"\u003E`を使うべきだと言えるだろう。\n\n",dir:X,path:"\u002Farticle\u002F20201126",extension:Y,createdAt:P,updatedAt:aD},{slug:"20201111",title:"ブログをリニューアルしました",timestamp:"2020\u002F11\u002F11",tags:["日記"],toc:[],body:{type:W,children:[{type:b,tag:j,props:{},children:[{type:a,value:"表題の通り、ブログをリニューアルしました。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n旧ブログの技術的ナレッジのみ移行し、ほぼ新規で投稿していきます。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"ブログサービスを用いらず、独自での開発を行った理由としては主に2つあります。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"① 際限なく自由に遊べる環境が欲しかった"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"曲がりなりにもエンジニアですので、既存のサービスを使うよりも自由度が高い独自開発に憧れがありました。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\nブログ以外のディレクトリも活用しつつ、サンドボックス的に遊べるような運用を目指します。 "}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"② 技術ブログ以外のブログを書きたかった"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"日常ブログと技術ブログが混じってしまうのが悩みでした。\nカテゴリ分けなどうまく実装しながら、好きなことを好きなだけ書ける場所として使っていきたいと思います。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"他にも試したいことは多々ありますが、都度調整しつつ、まったりと運用する予定です。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n今後ともよろしくお願いいたします。"}]}]},text:"\n表題の通り、ブログをリニューアルしました。  \n旧ブログの技術的ナレッジのみ移行し、ほぼ新規で投稿していきます。\n\nブログサービスを用いらず、独自での開発を行った理由としては主に2つあります。\n\n① 際限なく自由に遊べる環境が欲しかった\n\n曲がりなりにもエンジニアですので、既存のサービスを使うよりも自由度が高い独自開発に憧れがありました。  \nブログ以外のディレクトリも活用しつつ、サンドボックス的に遊べるような運用を目指します。 \n\n② 技術ブログ以外のブログを書きたかった\n\n日常ブログと技術ブログが混じってしまうのが悩みでした。\nカテゴリ分けなどうまく実装しながら、好きなことを好きなだけ書ける場所として使っていきたいと思います。\n\n他にも試したいことは多々ありますが、都度調整しつつ、まったりと運用する予定です。  \n今後ともよろしくお願いいたします。\n",dir:X,path:"\u002Farticle\u002F20201111",extension:Y,createdAt:P,updatedAt:P},{slug:"20200806",title:"URLパラメータに関する備忘録",timestamp:"2020\u002F08\u002F06",tags:[ax],toc:[{id:bk,depth:ah,text:bl},{id:ai,depth:ah,text:ai},{id:aj,depth:ah,text:aj},{id:ak,depth:ah,text:ak}],body:{type:W,children:[{type:b,tag:j,props:{},children:[{type:a,value:"APIを用いた設計を行っているとURLパラメータを操作したいという状況に多々遭遇します。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n古典的に、"},{type:b,tag:g,props:{},children:[{type:a,value:"location.search"}]},{type:a,value:"で取得した文字列を分割して、変換して・・・を繰り返していると、どこかで不具合にぶつかるものです。"},{type:b,tag:v,props:{},children:[]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:"を用いることで、パラメータをスムーズに付け外しすることができると学んだので、備忘録として記載します。"}]},{type:a,value:f},{type:b,tag:al,props:{id:bk},children:[{type:b,tag:u,props:{href:"#url%E3%81%AE%E5%8F%96%E5%BE%97",ariaHidden:$,tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:bl}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"location.href"}]},{type:a,value:"の部分にはもっと細かい書き方が多くありますが、既に付与されているパラメータをURLごと全て取得したいのであればこれが1番シンプルかなと思います。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\nAPIを使う時など、現在のURLとは別に新しくURLを生成したいのであれば、"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'\u002Fapi\u002Fxxx'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'https:\u002F\u002Fexample.com'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"とすることで取得できます。  "}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"URLに反映するときは、"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:V}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"で反映できます。"}]},{type:a,value:f},{type:b,tag:al,props:{id:ai},children:[{type:b,tag:u,props:{href:"#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E8%BF%BD%E5%8A%A0",ariaHidden:$,tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:ai}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"URLインターフェースで生成したURLからは、リンク要素と同じように"},{type:b,tag:g,props:{},children:[{type:a,value:V}]},{type:a,value:aK},{type:b,tag:g,props:{},children:[{type:a,value:"hash"}]},{type:a,value:"を取得することができます。\nパラメータに関しても"},{type:b,tag:g,props:{},children:[{type:a,value:"search"}]},{type:a,value:"で取得することができますが、"},{type:b,tag:g,props:{},children:[{type:a,value:aL}]},{type:a,value:"から始まる文字列では使い勝手が悪いので、"},{type:b,tag:g,props:{},children:[{type:a,value:ab}]},{type:a,value:"を使用して取得します。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:" url "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,R,S]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=0"}]},{type:a,value:"\n\nurl"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'id'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'1'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1"}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test"}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test&name=test"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:aM}]},{type:a,value:"は上書き、"},{type:b,tag:g,props:{},children:[{type:a,value:bp}]},{type:a,value:"は既存に同じパラメータが存在したとしても新たに追加します。"}]},{type:a,value:f},{type:b,tag:al,props:{id:aj},children:[{type:b,tag:u,props:{href:"#%E3%81%9D%E3%81%AE%E4%BB%96",ariaHidden:$,tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:aj}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"パラメータを削除する"},{type:b,tag:g,props:{},children:[{type:a,value:"delete"}]},{type:a,value:"や、パラメータを持っているかを返す"},{type:b,tag:g,props:{},children:[{type:a,value:"has"}]},{type:a,value:"なども存在します。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:ab}]},{type:a,value:"を用いることで、"},{type:b,tag:g,props:{},children:[{type:a,value:aL}]},{type:a,value:aK},{type:b,tag:g,props:{},children:[{type:a,value:"&"}]},{type:a,value:"の付け忘れやエスケープによるヒューマンエラーも起きにくくなります。ソースコード上で何を行いたいのかも分かりやすくなります。"},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n意外にも最近の技術ではなく、"},{type:b,tag:u,props:{href:"https:\u002F\u002Fcaniuse.com\u002F?search=URL",rel:[F,G,H],target:I},children:[{type:a,value:"ほぼ全てのブラウザ"}]},{type:a,value:"で対応している（IE除く）ので、どんどん使っていきたいですね。"}]},{type:a,value:f},{type:b,tag:al,props:{id:ak},children:[{type:b,tag:u,props:{href:"#%E5%8F%82%E8%80%83",ariaHidden:$,tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:ak}]},{type:a,value:f},{type:b,tag:bj,props:{},children:[{type:a,value:f},{type:b,tag:ag,props:{},children:[{type:b,tag:u,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURL",rel:[F,G,H],target:I},children:[{type:a,value:"URL - Web API | MDN"}]}]},{type:a,value:f},{type:b,tag:ag,props:{},children:[{type:b,tag:u,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURLSearchParams",rel:[F,G,H],target:I},children:[{type:a,value:"URLSearchParams - Web API | MDN"}]}]},{type:a,value:f}]}]},text:"\nAPIを用いた設計を行っているとURLパラメータを操作したいという状況に多々遭遇します。  \n古典的に、`location.search`で取得した文字列を分割して、変換して・・・を繰り返していると、どこかで不具合にぶつかるものです。  \n`URL`を用いることで、パラメータをスムーズに付け外しすることができると学んだので、備忘録として記載します。\n\n## URLの取得\n\n```javascript\nnew URL(location.href);\n```\n\n`location.href`の部分にはもっと細かい書き方が多くありますが、既に付与されているパラメータをURLごと全て取得したいのであればこれが1番シンプルかなと思います。  \nAPIを使う時など、現在のURLとは別に新しくURLを生成したいのであれば、\n\n```javascript\nnew URL('\u002Fapi\u002Fxxx', 'https:\u002F\u002Fexample.com');\n```\n\nとすることで取得できます。  \n\nURLに反映するときは、\n\n```javascript\nlocation.href = new URL(location.href);\n```\n\nで反映できます。\n\n## パラメータの追加\n\nURLインターフェースで生成したURLからは、リンク要素と同じように`href`や`hash`を取得することができます。\nパラメータに関しても`search`で取得することができますが、`?`から始まる文字列では使い勝手が悪いので、`searchParams`を使用して取得します。\n\n```javascript\nconst url = new URL(location.href); \u002F\u002F https:\u002F\u002Fexample.com?id=0\n\nurl.searchParams.set('id', '1') \u002F\u002F https:\u002F\u002Fexample.com?id=1\nurl.searchParams.set('name', 'test') \u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test\nurl.searchParams.append('name', 'test') \u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test&name=test\n```\n\n`set`は上書き、`append`は既存に同じパラメータが存在したとしても新たに追加します。\n\n## その他\nパラメータを削除する`delete`や、パラメータを持っているかを返す`has`なども存在します。\n\n`searchParams`を用いることで、`?`や`&`の付け忘れやエスケープによるヒューマンエラーも起きにくくなります。ソースコード上で何を行いたいのかも分かりやすくなります。  \n意外にも最近の技術ではなく、[ほぼ全てのブラウザ](https:\u002F\u002Fcaniuse.com\u002F?search=URL)で対応している（IE除く）ので、どんどん使っていきたいですね。\n\n## 参考\n- [URL - Web API | MDN](https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURL)\n- [URLSearchParams - Web API | MDN](https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURLSearchParams)\n",dir:X,path:"\u002Farticle\u002F20200806",extension:Y,createdAt:P,updatedAt:P},{slug:"20200515",title:"klawでディレクトリ配下のファイルを再帰的に取得する",timestamp:"2020\u002F05\u002F15",tags:["Node.js"],toc:[],body:{type:W,children:[{type:b,tag:j,props:{},children:[{type:a,value:"あるディレクトリ配下に存在する全てのファイルに対しアクションを行いたい場合、"},{type:b,tag:u,props:{href:bq,rel:[F,G,H],target:I},children:[{type:a,value:br}]},{type:a,value:aK},{type:b,tag:u,props:{href:bs,rel:[F,G,H],target:I},children:[{type:a,value:bt}]},{type:a,value:"が便利だと知ったのでメモ。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"元々は、"},{type:b,tag:g,props:{},children:[{type:a,value:"fs"}]},{type:a,value:"の拡張である"},{type:b,tag:u,props:{href:"https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-fs-extra",rel:[F,G,H],target:I},children:[{type:b,tag:g,props:{},children:[{type:a,value:bu}]}]},{type:a,value:"の内に含まれていた"},{type:b,tag:g,props:{},children:[{type:a,value:bv}]},{type:a,value:"が同じ役割を果たしていたようだが、"}]},{type:a,value:f},{type:b,tag:bd,props:{},children:[{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"What happened to "},{type:b,tag:g,props:{},children:[{type:a,value:"walk()"}]},{type:a,value:bw},{type:b,tag:g,props:{},children:[{type:a,value:"walkSync()"}]},{type:a,value:aL},{type:b,tag:v,props:{},children:[]},{type:a,value:"\nThey were removed from "},{type:b,tag:g,props:{},children:[{type:a,value:bu}]},{type:a,value:" in v2.0.0. If you need the functionality, "},{type:b,tag:g,props:{},children:[{type:a,value:bv}]},{type:a,value:" and walkSync are available as separate packages, "},{type:b,tag:u,props:{href:bq,rel:[F,G,H],target:I},children:[{type:b,tag:g,props:{},children:[{type:a,value:br}]}]},{type:a,value:bw},{type:b,tag:u,props:{href:bs,rel:[F,G,H],target:I},children:[{type:b,tag:g,props:{},children:[{type:a,value:bt}]}]},{type:a,value:m}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"引用："},{type:b,tag:u,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Ffs-extra#what-happened-to-walk-and-walksync-",rel:[F,G,H],target:I},children:[{type:a,value:"fs-extra - npm"}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"とのことで、現在は個別にインストールする必要がある。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:" klawSync "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"require"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'klaw-sync'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"let"}]},{type:a,value:" filelist "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,x,bz]},children:[{type:a,value:"try"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n    filelist "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:z}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"klawSync"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'\u002Ffoo\u002Fbar'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n        nodir"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:$}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\u002F\u002F nodirを有効にすることでファイル名のみを出力"}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,x,bz]},children:[{type:a,value:"catch"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,bB,aa]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,w,s,p]},children:[{type:a,value:"error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"dirent"}]},{type:a,value:"の形式でファイルリストが出力される。"}]},{type:a,value:f},{type:b,tag:y,props:{className:[C]},children:[{type:b,tag:D,props:{className:[K,E]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n        path"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'\u002Ffoo\u002Fbar\u002Fxxx.js'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        stats"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:"Stats"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n            dev"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"16777221"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            mode"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"33188"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            nlink"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            uid"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"502"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            gid"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"20"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            rdev"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"0"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            blksize"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"4096"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            ino"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"725582"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            size"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"5523"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            blocks"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"16"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            atimeMs"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"1589185938547.9219"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            mtimeMs"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            ctimeMs"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            birthtimeMs"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"1589185934632.7583"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            atime"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"18.548"}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            mtime"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aO}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            ctime"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aO}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            birthtime"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aO}]},{type:a,value:"Z\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:by}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"今まで"},{type:b,tag:g,props:{},children:[{type:a,value:"fs.readDir"}]},{type:a,value:"と"},{type:b,tag:g,props:{},children:[{type:a,value:"fs.stat"}]},{type:a,value:"を用いて膨大な処理を書いていたのでお手軽さに驚き。積極的に使っていきたい。"}]}]},text:"\nあるディレクトリ配下に存在する全てのファイルに対しアクションを行いたい場合、[klaw](https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-klaw)や[klaw-sync](https:\u002F\u002Fgithub.com\u002Fmanidlou\u002Fnode-klaw-sync)が便利だと知ったのでメモ。\n\n元々は、`fs`の拡張である[`fs-extra`](https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-fs-extra)の内に含まれていた`walk`が同じ役割を果たしていたようだが、\n\n\u003EWhat happened to `walk()` and `walkSync()`?  \n\u003EThey were removed from `fs-extra` in v2.0.0. If you need the functionality, `walk` and walkSync are available as separate packages, [`klaw`](https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-klaw) and [`klaw-sync`](https:\u002F\u002Fgithub.com\u002Fmanidlou\u002Fnode-klaw-sync).\n\n引用：[fs-extra - npm](https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Ffs-extra#what-happened-to-walk-and-walksync-)\n\nとのことで、現在は個別にインストールする必要がある。\n\n```javascript\nconst klawSync = require('klaw-sync');\nlet filelist = [];\n\ntry {\n    filelist = klawSync('\u002Ffoo\u002Fbar', {\n        nodir: true \u002F\u002F nodirを有効にすることでファイル名のみを出力\n    });\n} catch (err) {\n    console.error(err);\n}\n```\n\n`dirent`の形式でファイルリストが出力される。\n\n```javascript\n[\n    {\n        path: '\u002Ffoo\u002Fbar\u002Fxxx.js',\n        stats: Stats {\n            dev: 16777221,\n            mode: 33188,\n            nlink: 1,\n            uid: 502,\n            gid: 20,\n            rdev: 0,\n            blksize: 4096,\n            ino: 725582,\n            size: 5523,\n            blocks: 16,\n            atimeMs: 1589185938547.9219,\n            mtimeMs: 1589185934632.984,\n            ctimeMs: 1589185934632.984,\n            birthtimeMs: 1589185934632.7583,\n            atime: 2020-05-11T08:32:18.548Z,\n            mtime: 2020-05-11T08:32:14.633Z,\n            ctime: 2020-05-11T08:32:14.633Z,\n            birthtime: 2020-05-11T08:32:14.633Z\n        }\n    }\n]\n```\n\n今まで`fs.readDir`と`fs.stat`を用いて膨大な処理を書いていたのでお手軽さに驚き。積極的に使っていきたい。\n",dir:X,path:"\u002Farticle\u002F20200515",extension:Y,createdAt:P,updatedAt:P}]}],fetch:[],mutations:void 0}}("text","element","span","token","punctuation","\n","code"," ","operator","p","number",":",".","(",")","property-access",",",";","function","string","a","br","method","keyword","div","=","tag","left","nuxt-content-highlight","pre","line-numbers","nofollow","noopener","noreferrer","_blank","td","language-javascript","{","}","-","comment","2020-12-15T01:22:58.281Z","const","dom","variable","item","\u003E","href","root","\u002Farticle",".md","\u003Cbutton\u003E","URL","true","class-name","searchParams","maybe-class-name","\u003Cform\u003E","tr","\"","li",2,"パラメータの追加","その他","参考","h2",-1,"icon","icon-link","new","location","\n    ","2020","05","11","T08","32","JavaScript","\n\nitems","forEach","parameter","arrow","=\u003E","2020-12-15T01:22:58.282Z","\u003C","button","詳しく見る","\u003C\u002F","type=\"button\"","th","や","?","set","Z","14.633"," wrap ","document","querySelector","'.wrap'"," items "," wrap","querySelectorAll","'.item'","\n  wrap","appendChild","\u002F\u002F Error","removeChild","language-html","submit","。","何もしない。","blockquote","attr-name","attr-value","attr-equals","\u003Cdiv\u003E","\u003Ca\u003E","ul","urlの取得","URLの取得","\nurl","'name'","'test'","append","https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-klaw","klaw","https:\u002F\u002Fgithub.com\u002Fmanidlou\u002Fnode-klaw-sync","klaw-sync","fs-extra","walk"," and ","[","]","control-flow","err","console","1589185934632.984")));