__NUXT_JSONP__("/20200806", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){return {data:[{article:{slug:"20200806",title:"URLパラメータに関する備忘録",timestamp:"2020\u002F08\u002F06",tags:["JavaScript"],toc:[{id:G,depth:j,text:H},{id:k,depth:j,text:k},{id:l,depth:j,text:l},{id:m,depth:j,text:m}],body:{type:"root",children:[{type:b,tag:f,props:{},children:[{type:a,value:"APIを用いた設計を行っているとURLパラメータを操作したいという状況に多々遭遇します。"},{type:b,tag:n,props:{},children:[]},{type:a,value:"\n古典的に、"},{type:b,tag:e,props:{},children:[{type:a,value:"location.search"}]},{type:a,value:"で取得した文字列を分割して、変換して・・・を繰り返していると、どこかで不具合にぶつかるものです。"},{type:b,tag:n,props:{},children:[]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"URL"}]},{type:a,value:"を用いることで、パラメータをスムーズに付け外しすることができると学んだので、備忘録として記載します。"}]},{type:a,value:c},{type:b,tag:o,props:{id:G},children:[{type:b,tag:h,props:{href:"#url%E3%81%AE%E5%8F%96%E5%BE%97",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:t,props:{className:[u]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:e,props:{className:[w,x]},children:[{type:b,tag:d,props:{className:[i]},children:[{type:a,value:y}]},{type:a,value:I}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"location.href"}]},{type:a,value:"の部分にはもっと細かい書き方が多くありますが、既に付与されているパラメータをURLごと全て取得したいのであればこれが1番シンプルかなと思います。"},{type:b,tag:n,props:{},children:[]},{type:a,value:"\nAPIを使う時など、現在のURLとは別に新しくURLを生成したいのであれば、"}]},{type:a,value:c},{type:b,tag:t,props:{className:[u]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:e,props:{className:[w,x]},children:[{type:b,tag:d,props:{className:[i]},children:[{type:a,value:y}]},{type:a,value:" URL("},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:"'\u002Fapi\u002Fxxx'"}]},{type:a,value:z},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:"'https:\u002F\u002Fexample.com'"}]},{type:a,value:");\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"とすることで取得できます。  "}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"URLに反映するときは、"}]},{type:a,value:c},{type:b,tag:t,props:{className:[u]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:e,props:{className:[w,x]},children:[{type:a,value:"location.href = "},{type:b,tag:d,props:{className:[i]},children:[{type:a,value:y}]},{type:a,value:I}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"で反映できます。"}]},{type:a,value:c},{type:b,tag:o,props:{id:k},children:[{type:b,tag:h,props:{href:"#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E8%BF%BD%E5%8A%A0",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"URLインターフェースで生成したURLからは、リンク要素と同じように"},{type:b,tag:e,props:{},children:[{type:a,value:"href"}]},{type:a,value:J},{type:b,tag:e,props:{},children:[{type:a,value:"hash"}]},{type:a,value:"を取得することができます。\nパラメータに関しても"},{type:b,tag:e,props:{},children:[{type:a,value:"search"}]},{type:a,value:"で取得することができますが、"},{type:b,tag:e,props:{},children:[{type:a,value:K}]},{type:a,value:"から始まる文字列では使い勝手が悪いので、"},{type:b,tag:e,props:{},children:[{type:a,value:L}]},{type:a,value:"を使用して取得します。"}]},{type:a,value:c},{type:b,tag:t,props:{className:[u]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:e,props:{className:[w,x]},children:[{type:b,tag:d,props:{className:[i]},children:[{type:a,value:"const"}]},{type:a,value:" url = "},{type:b,tag:d,props:{className:[i]},children:[{type:a,value:y}]},{type:a,value:" URL(location.href); "},{type:b,tag:d,props:{className:[A]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=0"}]},{type:a,value:"\n\nurl.searchParams.set("},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:"'id'"}]},{type:a,value:z},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:"'1'"}]},{type:a,value:B},{type:b,tag:d,props:{className:[A]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1"}]},{type:a,value:"\nurl.searchParams.set("},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:M}]},{type:a,value:z},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:N}]},{type:a,value:B},{type:b,tag:d,props:{className:[A]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test"}]},{type:a,value:"\nurl.searchParams.append("},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:M}]},{type:a,value:z},{type:b,tag:d,props:{className:[g]},children:[{type:a,value:N}]},{type:a,value:B},{type:b,tag:d,props:{className:[A]},children:[{type:a,value:"\u002F\u002F https:\u002F\u002Fexample.com?id=1&name=test&name=test"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"set"}]},{type:a,value:"は上書き、"},{type:b,tag:e,props:{},children:[{type:a,value:"append"}]},{type:a,value:"は既存に同じパラメータが存在したとしても新たに追加します。"}]},{type:a,value:c},{type:b,tag:o,props:{id:l},children:[{type:b,tag:h,props:{href:"#%E3%81%9D%E3%81%AE%E4%BB%96",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:l}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"パラメータを削除する"},{type:b,tag:e,props:{},children:[{type:a,value:"delete"}]},{type:a,value:"や、パラメータを持っているかを返す"},{type:b,tag:e,props:{},children:[{type:a,value:"has"}]},{type:a,value:"なども存在します。"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:L}]},{type:a,value:"を用いることで、"},{type:b,tag:e,props:{},children:[{type:a,value:K}]},{type:a,value:J},{type:b,tag:e,props:{},children:[{type:a,value:"&"}]},{type:a,value:"の付け忘れやエスケープによるヒューマンエラーも起きにくくなります。ソースコード上で何を行いたいのかも分かりやすくなります。"},{type:b,tag:n,props:{},children:[]},{type:a,value:"\n意外にも最近の技術ではなく、"},{type:b,tag:h,props:{href:"https:\u002F\u002Fcaniuse.com\u002F?search=URL",rel:[C,D,E],target:F},children:[{type:a,value:"ほぼ全てのブラウザ"}]},{type:a,value:"で対応している（IE除く）ので、どんどん使っていきたいですね。"}]},{type:a,value:c},{type:b,tag:o,props:{id:m},children:[{type:b,tag:h,props:{href:"#%E5%8F%82%E8%80%83",ariaHidden:p,tabIndex:q},children:[{type:b,tag:d,props:{className:[r,s]},children:[]}]},{type:a,value:m}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:O,props:{},children:[{type:b,tag:h,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURL",rel:[C,D,E],target:F},children:[{type:a,value:"URL - Web API | MDN"}]}]},{type:a,value:c},{type:b,tag:O,props:{},children:[{type:b,tag:h,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fja\u002Fdocs\u002FWeb\u002FAPI\u002FURLSearchParams",rel:[C,D,E],target:F},children:[{type:a,value:"URLSearchParams - Web API | MDN"}]}]},{type:a,value:c}]}]},dir:"\u002Farticle",path:"\u002Farticle\u002F20200806",extension:".md",createdAt:P,updatedAt:P}}],fetch:[],mutations:void 0}}("text","element","\n","span","code","p","hljs-string","a","hljs-keyword",2,"パラメータの追加","その他","参考","br","h2","true",-1,"icon","icon-link","div","nuxt-content-highlight","pre","hljs","javascript","new",", ","hljs-comment",") ","nofollow","noopener","noreferrer","_blank","urlの取得","URLの取得"," URL(location.href);\n","や","?","searchParams","'name'","'test'","li","2020-12-24T12:42:38.374Z")));