__NUXT_JSONP__("/20200515", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N){return {data:[{article:{slug:"20200515",title:"klawでディレクトリ配下のファイルを再帰的に取得する",timestamp:"2020\u002F05\u002F15",tags:["Node.js"],toc:[],body:{type:"root",children:[{type:b,tag:j,props:{},children:[{type:a,value:"あるディレクトリ配下に存在する全てのファイルに対しアクションを行いたい場合、"},{type:b,tag:k,props:{href:y,rel:[l,m,n],target:o},children:[{type:a,value:z}]},{type:a,value:"や"},{type:b,tag:k,props:{href:A,rel:[l,m,n],target:o},children:[{type:a,value:B}]},{type:a,value:"が便利だと知ったのでメモ。"}]},{type:a,value:i},{type:b,tag:j,props:{},children:[{type:a,value:"元々は、"},{type:b,tag:g,props:{},children:[{type:a,value:"fs"}]},{type:a,value:"の拡張である"},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-fs-extra",rel:[l,m,n],target:o},children:[{type:b,tag:g,props:{},children:[{type:a,value:C}]}]},{type:a,value:"の内に含まれていた"},{type:b,tag:g,props:{},children:[{type:a,value:D}]},{type:a,value:"が同じ役割を果たしていたようだが、"}]},{type:a,value:i},{type:b,tag:"blockquote",props:{},children:[{type:a,value:i},{type:b,tag:j,props:{},children:[{type:a,value:"What happened to "},{type:b,tag:g,props:{},children:[{type:a,value:"walk()"}]},{type:a,value:E},{type:b,tag:g,props:{},children:[{type:a,value:"walkSync()"}]},{type:a,value:"?"},{type:b,tag:"br",props:{},children:[]},{type:a,value:"\nThey were removed from "},{type:b,tag:g,props:{},children:[{type:a,value:C}]},{type:a,value:" in v2.0.0. If you need the functionality, "},{type:b,tag:g,props:{},children:[{type:a,value:D}]},{type:a,value:" and walkSync are available as separate packages, "},{type:b,tag:k,props:{href:y,rel:[l,m,n],target:o},children:[{type:b,tag:g,props:{},children:[{type:a,value:z}]}]},{type:a,value:E},{type:b,tag:k,props:{href:A,rel:[l,m,n],target:o},children:[{type:b,tag:g,props:{},children:[{type:a,value:B}]}]},{type:a,value:"."}]},{type:a,value:i}]},{type:a,value:i},{type:b,tag:j,props:{},children:[{type:a,value:"引用："},{type:b,tag:k,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Ffs-extra#what-happened-to-walk-and-walksync-",rel:[l,m,n],target:o},children:[{type:a,value:"fs-extra - npm"}]}]},{type:a,value:i},{type:b,tag:j,props:{},children:[{type:a,value:"とのことで、現在は個別にインストールする必要がある。"}]},{type:a,value:i},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{},children:[{type:b,tag:g,props:{className:[I,J]},children:[{type:b,tag:c,props:{className:[p]},children:[{type:a,value:"const"}]},{type:a,value:" klawSync = "},{type:b,tag:c,props:{className:[K]},children:[{type:a,value:"require"}]},{type:a,value:"("},{type:b,tag:c,props:{className:[w]},children:[{type:a,value:"'klaw-sync'"}]},{type:a,value:");\n"},{type:b,tag:c,props:{className:[p]},children:[{type:a,value:"let"}]},{type:a,value:" filelist = [];\n\n"},{type:b,tag:c,props:{className:[p]},children:[{type:a,value:"try"}]},{type:a,value:" {\n    filelist = klawSync("},{type:b,tag:c,props:{className:[w]},children:[{type:a,value:"'\u002Ffoo\u002Fbar'"}]},{type:a,value:", {\n        "},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"nodir"}]},{type:a,value:f},{type:b,tag:c,props:{className:["hljs-literal"]},children:[{type:a,value:"true"}]},{type:a,value:" "},{type:b,tag:c,props:{className:["hljs-comment"]},children:[{type:a,value:"\u002F\u002F nodirを有効にすることでファイル名のみを出力"}]},{type:a,value:"\n    });\n} "},{type:b,tag:c,props:{className:[p]},children:[{type:a,value:"catch"}]},{type:a,value:" (err) {\n    "},{type:b,tag:c,props:{className:[K]},children:[{type:a,value:"console"}]},{type:a,value:".error(err);\n}\n"}]}]}]},{type:a,value:i},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"dirent"}]},{type:a,value:"の形式でファイルリストが出力される。"}]},{type:a,value:i},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{},children:[{type:b,tag:g,props:{className:[I,J]},children:[{type:a,value:"[\n    {\n        "},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"path"}]},{type:a,value:f},{type:b,tag:c,props:{className:[w]},children:[{type:a,value:"'\u002Ffoo\u002Fbar\u002Fxxx.js'"}]},{type:a,value:",\n        "},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"stats"}]},{type:a,value:": Stats {\n            "},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"dev"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"16777221"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"mode"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"33188"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"nlink"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"1"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"uid"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"502"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"gid"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"20"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"rdev"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"0"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"blksize"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"4096"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"ino"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"725582"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"size"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"5523"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"blocks"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"16"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"atimeMs"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"1589185938547.9219"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"mtimeMs"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"ctimeMs"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"birthtimeMs"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"1589185934632.7583"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"atime"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:q}]},{type:a,value:r},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:u}]},{type:a,value:v},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:"18."}]},{type:a,value:"548Z,\n            "},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"mtime"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:q}]},{type:a,value:r},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:u}]},{type:a,value:v},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:x}]},{type:a,value:M},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"ctime"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:q}]},{type:a,value:r},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:u}]},{type:a,value:v},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:x}]},{type:a,value:M},{type:b,tag:c,props:{className:[e]},children:[{type:a,value:"birthtime"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:q}]},{type:a,value:r},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:u}]},{type:a,value:v},{type:b,tag:c,props:{className:[d]},children:[{type:a,value:x}]},{type:a,value:"633Z\n        }\n    }\n]\n"}]}]}]},{type:a,value:i},{type:b,tag:j,props:{},children:[{type:a,value:"今まで"},{type:b,tag:g,props:{},children:[{type:a,value:"fs.readDir"}]},{type:a,value:"と"},{type:b,tag:g,props:{},children:[{type:a,value:"fs.stat"}]},{type:a,value:"を用いて膨大な処理を書いていたのでお手軽さに驚き。積極的に使っていきたい。"}]}]},dir:"\u002Farticle",path:"\u002Farticle\u002F20200515",extension:".md",createdAt:N,updatedAt:N}}],fetch:[],mutations:void 0}}("text","element","span","hljs-number","hljs-attr",": ","code",",\n            ","\n","p","a","nofollow","noopener","noreferrer","_blank","hljs-keyword","2020","-","05","-11T08:","32",":","hljs-string","14.","https:\u002F\u002Fgithub.com\u002Fjprichardson\u002Fnode-klaw","klaw","https:\u002F\u002Fgithub.com\u002Fmanidlou\u002Fnode-klaw-sync","klaw-sync","fs-extra","walk"," and ","div","nuxt-content-highlight","pre","hljs","javascript","hljs-built_in","1589185934632.984","633Z,\n            ","2020-12-24T12:42:38.374Z")));